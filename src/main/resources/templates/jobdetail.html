<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${job.title}">Detail Pekerjaan</title>
    <link rel="stylesheet" th:href="@{/css/jobdetailstyle.css}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp" />
</head>
<body>
    <div class="container">
        <!-- Sidebar sec start -->
         <aside>
            <div class="top">
                <div class="logo">
                    <h2>Nama<span class="danger">Website</span></h2>
                </div>
            </div>
            <!-- end top -->

            <div class="sidebar">
                <a th:href="@{/dashboard}" class="active">
                    <span class="material-symbols-sharp"> grid_view </span>
                    <h3>Dashboard</h3>
                </a>
                <a th:href="@{/tambahpekerjaan}">
                    <span class="material-symbols-sharp"> add_notes </span>
                    <h3>Tambahkan Pekerjaan</h3>
                </a>

                <a th:href="@{/pekerjaansaya}">
                    <span class="material-symbols-sharp"> work </span>
                    <h3>Pekerjaan Saya</h3>
                </a>
                <a th:href="@{/message}">
                    <span class="material-symbols-sharp"> message </span>
                    <h3>Pesan</h3>
                </a>
                <a th:href="@{/profile}">
                    <span class="material-symbols-sharp"> account_circle </span>
                    <h3>Profil</h3>
                </a>
                <a th:href="@{/logout}">
                    <span class="material-symbols-sharp"> logout </span>
                    <h3>Keluar</h3>
                </a>
            </div>
         </aside>
        <!-- Sidebar sec end -->

<div class="detail-container">

    <h1 class="job-title" th:text="${job.title}"></h1>

    <!-- Job Info -->
    <div class="info-grid">

        <div class="info-box">
            <span class="material-symbols-sharp icon">location_on</span>
            <div>
                <p class="label">Lokasi</p>
                <p class="value" th:text="${job.location}"></p>
            </div>
        </div>

        <div class="info-box">
            <span class="material-symbols-sharp icon">payments</span>
            <div>
                <p class="label">Gaji</p>
                <p class="value" th:text="'Rp. ' + ${job.price}"></p>
            </div>
        </div>

    </div>

    <h2 class="subtitle">Deskripsi Pekerjaan</h2>
    <p class="job-desc" th:text="${job.description}"></p>

    <!-- <button class="apply-btn">Lamar Pekerjaan</button> -->
    <form th:action="@{'/job/' + ${job.id} + '/apply'}" method="post">
        <button class="apply-btn" type="submit">Lamar Pekerjaan</button>
    </form>


    <!-- Posted By Card -->
    <div class="posted-card">
        <p class="posted-label">Diposting oleh</p>

        <div class="posted-row">
            <div class="avatar">
                <span class="material-symbols-sharp">account_circle</span>
            </div>

            <div class="user-info">
                <h3 th:text="${postedBy.username}"></h3>
            </div>
            <button class="msg-btn"
                    th:onclick="'location.href=\'/job/chat/' + ${postedBy.id} + '\';'">
                Kirim Pesan
            </button>
        </div>
    </div>
</div>

<div class="popup" th:if="${successApply}">
    <p th:text="${successApply}"></p>
    <button onclick="this.parentElement.style.display='none'">OK</button>
</div>

</body>
</html>
